<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="16290f62-7a6d-4062-a712-f35017e82182" activeEnvironment="Default" name="REST Project_Assignment" resourceRoot="" soapui-version="5.3.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="5f9f82f6-cc04-425c-ac9f-9e26e56fb85b" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Client_credentials" path="/api/rest_admin/oauth2/token/client_credentials" id="af68ba1d-50e6-4933-9749-333f3edb2478"><con:settings/><con:parameters/><con:method name="Client_credentials 1" id="e5036609-d027-44d3-8910-f44d91023582" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:cli="http://rest-api.upskills.in/api/rest_admin/oauth2/token/client_credentials">cli:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:cli="http://rest-api.upskills.in/api/rest_admin/oauth2/token/client_credentials">cli:Response</con:element></con:representation><con:request name="Request 1" id="e028cc56-b4e4-491b-b0bd-af163c532edb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic dXBza2lsbHNfcmVzdF9hZG1pbl9vYXV0aF9jbGllbnQ6dXBza2lsbHNfcmVzdF9hZG1pbl9vYXV0aF9zZWNyZXQ=" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/oauth2/token/client_credentials</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="0515ce2f-0133-4aca-b6da-67f819e9468d" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Login" path="/api/rest_admin/login" id="ebf17cff-a43c-406d-afab-4ad6180d2cad"><con:settings/><con:parameters/><con:method name="Login 1" id="35fd0a23-f368-48d8-a7de-e9be6fc817ad" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:log="http://rest-api.upskills.in/api/rest_admin/login">log:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>401 400</con:status><con:params/><con:element xmlns:log="http://rest-api.upskills.in/api/rest_admin/login">log:Fault</con:element></con:representation><con:request name="Request 1" id="6bdfc716-c7e8-4c2c-97e0-3f2d01befc9b" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Bearer 73bc7a17a01f3a702ab4e282446fae40f080f88c" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
  "username": "upskills_admin",
  "password": "Talent4$$"
}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/login</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="c949f6e5-2ebe-46b2-9b95-1a2cd03859a8" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Customers" path="/api/rest_admin/customers/id" id="c24b9b7a-f415-4985-880d-a2005059df5d"><con:settings/><con:parameters/><con:method name="Customers 1" id="8b2c0342-1658-4358-94f5-e7d25851c3a6" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>403 400 401</con:status><con:params/><con:element xmlns:cus="http://rest-api.upskills.in/api/rest_admin/customers">cus:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:cus="http://rest-api.upskills.in/api/rest_admin/customers">cus:Response</con:element></con:representation><con:request name="Request 1" id="9437bd3c-6bbc-447a-b9d3-924caf72e421" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
"firstname": "Demo",
"lastname": "User01",
"email": "demouser01@gmail.com",
"password": "password",
"confirm": "password", 
"telephone": "1-541-754-3010"
}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/customers/id</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="0aaf7ad3-c933-4ed9-be26-5aa8d3265b85" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints></con:interface><con:interface xsi:type="con:RestService" id="758232b3-ce09-4dde-901c-bfc68f874d79" wadlVersion="http://wadl.dev.java.net/2009/02" name="" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints/><con:resource name="Rewards" path="/rewards" id="f2f86f33-94de-4bf1-abf8-5449c4d0ed43"><con:settings/><con:parameters/><con:method name="Rewards 1" id="ab65f359-ae29-4bac-a351-f287b0693d63" method="GET"><con:settings/><con:parameters/><con:request name="Request 1" id="41391977-1ec4-4e2f-8dca-5d926271c236" mediaType="application/json"><con:settings/><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="e5e8cf4f-a876-45d1-aa9b-6e5121cecd64" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Id" path="/api/rest_admin/customers/{id}" id="2a7dfe42-f0b2-4f70-9989-70936798c0d5"><con:settings/><con:parameters><con:parameter><con:name>id</con:name><con:value>id</con:value><con:style>TEMPLATE</con:style><con:default>id</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Id 1" id="f6271418-4bbb-4453-9f3a-b2d95332ff8d" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:b="http://rest-api.upskills.in/api/rest_admin/customers/%5B%5D">b:Response</con:element></con:representation><con:request name="Request 1" id="3940e72e-ad02-4b8b-99f7-d3312275a9fa" mediaType="application/json"><con:settings/><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="id" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="c2b271d0-1f8a-4a50-8783-5354334db6b8" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints></con:interface><con:interface xsi:type="con:RestService" id="4839aaa6-995c-4125-b9c0-cf7a22d84022" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://rest-api.upskills.in" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>http://rest-api.upskills.in</con:endpoint></con:endpoints><con:resource name="Id" path="/api/rest_admin/reward/{id}" id="45ad425f-a75e-461c-bda4-0e048faa9cdd"><con:settings/><con:parameters><con:parameter><con:name>id</con:name><con:value>id</con:value><con:style>TEMPLATE</con:style><con:default>id</con:default><con:path xsi:nil="true"/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="Id 1" id="1c8fff94-049b-4424-9891-91da45bf4e53" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:b="http://rest-api.upskills.in/api/rest_admin/reward/%5B%5D">b:Response</con:element></con:representation><con:request name="Request 1" id="880ee01c-ad4e-4623-89f9-48b4a247bda3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
  "description": "demo name",
  "points": "100"
}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/reward/id</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="id" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>id</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:testSuite id="81d409d3-3c17-4734-901a-9d2c87e6b8ac" name="TestSuite 1"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="d87d680e-069f-4207-84a0-fe1b1fb23766" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="TestCase 1" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="AccessToken" id="c9ed13b3-84a4-4776-95eb-cdc4475f95bf"><con:settings/><con:config service="http://rest-api.upskills.in" methodName="Client_credentials 1" resourcePath="/api/rest_admin/oauth2/token/client_credentials" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AccessToken" id="c0629a15-4fe0-4263-8e81-f37cf0979c6c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="Basic dXBza2lsbHNfcmVzdF9hZG1pbl9vYXV0aF9jbGllbnQ6dXBza2lsbHNfcmVzdF9hZG1pbl9vYXV0aF9zZWNyZXQ=" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/oauth2/token/client_credentials</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="52b555e9-e931-46e1-ab13-d9ebb41bf8f5" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="1e823b55-a936-4cff-a14e-7c09a8a93bba" name="Script Assertion"><con:configuration/></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script for Access Token" id="123fdf6e-c555-4433-89ac-d1b8e09d2f05"><con:settings/><con:config><script>import groovy.json.*

def tokenres = testRunner.testCase.getTestStepByName("AccessToken").getPropertyValue("Response")
log.info tokenres

def jsonSlurper = new JsonSlurper()
def parsedJson = jsonSlurper.parseText(tokenres)

def accesstoken = parsedJson.data.access_token
log.info accesstoken

def header = "Bearer "+accesstoken
log.info header

def setaccesstoken = testRunner.testCase.getTestStepByName("Properties").setPropertyValue("accesstoken",accesstoken)
def setheader = testRunner.testCase.getTestStepByName("Properties").setPropertyValue("header",header)
</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="dcc43018-f43f-48fc-957c-4c609bc46bf8"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>accesstoken</con:name><con:value/></con:property><con:property><con:name>header</con:name><con:value/></con:property><con:property><con:name>email</con:name><con:value>"usermaha6@gmail.com"</con:value></con:property><con:property><con:name>ID</con:name><con:value>3659</con:value></con:property><con:property><con:name>count</con:name><con:value>1</con:value></con:property><con:property><con:name>Counter</con:name><con:value>1</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="Login" id="4cc62c34-e88c-40dc-9f1d-7d4770f8b802"><con:settings/><con:config service="http://rest-api.upskills.in" methodName="Login 1" resourcePath="/api/rest_admin/login" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Login" id="4c5d7ef0-0f24-4221-8a4d-16df2b8bbdc6" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${Properties#header}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
  "username": "upskills_admin",
  "password": "Talent4$$"
}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/login</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="fcf65782-bbb0-467e-a05a-a6224db89e95" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="AddCustomer" id="694851f0-20e3-4757-840b-6a44b6eb49ee"><con:settings/><con:config service="http://rest-api.upskills.in" methodName="Customers 1" resourcePath="/api/rest_admin/customers/id" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AddCustomer" id="a38f76be-4351-4469-a08f-84a3247da8a1" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${Properties#header}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
"firstname": "Demo",
"lastname": "User01",
"email": ${Properties#email},
"password": "password",
"confirm": "password", 
"telephone": "1-541-754-3010"
}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/customers</con:originalUri><con:assertion type="GroovyScriptAssertion" id="81d1182a-1f48-4b3b-8c82-591a692f5aad" name="Script Assertion"><con:configuration/></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script for Add Customer" id="c884c6d6-de7b-4b76-a167-d460a97bacbb"><con:settings/><con:config><script>import groovy.json.JsonSlurper

//To get testcase name
def testCaseName = context.getTestCase().name
log.info ("Testcase name is " + testCaseName)

//to get testsuite name
def testSuiteName = context.getTestCase().getTestSuite().name
log.info ("TestSuite name is " + testSuiteName)

def reqXml = context.expand('${AddCustomer#request}')
log.info ("Request is " + reqXml)

//To parse the response json
def jsonSlurper = new JsonSlurper()
def request = jsonSlurper.parseText(reqXml)
log.info request



def RespXml = context.expand('${AddCustomer#response}')
log.info ("Response is " + RespXml)

def response = jsonSlurper.parseText(RespXml)
log.info response.error

/* Tried to create a new email id dynamically at run time each time tried using counter and generate a value but couldn't finish it so we need to edit the email id for every new run of the case
def customerid = response.data.id
testRunner.testCase.testSteps["Properties"].setPropertyValue("ID", customerid.toString())

def emailid = testRunner.testCase.testSteps["Properties"].getPropertyValue("email")
log.info emailid

def count = 1
log.info emailid+(count+1)+"@gmail.com"
*/




</script></con:config></con:testStep><con:testStep type="restrequest" name="GetByID" id="4120b16c-7831-4dfb-ace7-02e4a357275c"><con:settings/><con:config service="http://rest-api.upskills.in" methodName="Id 1" resourcePath="/api/rest_admin/customers/{id}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetByID" id="ffce98d3-0fbb-4f5d-8602-84de0e149430" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${Properties#header}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/customers/%5B%5D</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="06fd65ad-611f-4782-878e-f0c80dbb3132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="${Properties#ID}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="AddRewards" id="391dd3a8-b706-44fd-b8f9-c7a9a182a5d7"><con:settings/><con:config service="http://rest-api.upskills.in" methodName="Id 1" resourcePath="/api/rest_admin/reward/{id}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="REST Request" id="10f464c8-46f0-4dbd-ae2f-ac48d4aab154" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${Properties#header}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request>{
  "description": "Sign Up Reward Points",
  "points": "100"
}</con:request><con:originalUri>http://rest-api.upskills.in/api/rest_admin/reward/%5B%5D</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="582f3928-12bb-4ab7-8bab-7a2ac114a2a2" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="${Properties#ID}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="GetByIDAfterAddingRewards" id="c2ca6981-6ce8-45d7-93cf-87307a8e75c1"><con:settings/><con:config service="http://rest-api.upskills.in" methodName="Id 1" resourcePath="/api/rest_admin/customers/{id}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Copy of GetByID" id="ffce98d3-0fbb-4f5d-8602-84de0e149430" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${Properties#header}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://rest-api.upskills.in</con:endpoint><con:request/><con:originalUri>http://rest-api.upskills.in/api/rest_admin/customers/%5B%5D</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="06fd65ad-611f-4782-878e-f0c80dbb3132" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="ebebe6f6-55e6-480b-932c-d07d1e8b09f6" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper
import jxl.*
import com.eviware.soapui.support.GroovyUtils

//To validate the response using JsonSlurper
def resp = messageExchange.response.responseContent
log.info ("Response is " + resp)

//To parse the response json
def jsonSlurper = new JsonSlurper().parseText(resp)

//To get the customer ID
def customerID = jsonSlurper.data.customer_id
log.info customerID

//To get the Rewards points
def rewardpoints = jsonSlurper.data.reward_points
log.info rewardpoints
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="id" value="${Properties#ID}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script to fetch data from Properties" id="4636ae2b-8e43-46e6-ac76-c64b732ff29c"><con:settings/><con:config><script>import jxl.*

//Define Testcase
def TestCase = testRunner.testCase

//Declare counter
def count

//To get Properties stepname
def PropertiesTestStep = TestCase.getTestStepByName("Properties")
def IDP = PropertiesTestStep.getPropertyValue("ID").toInteger()
</script></con:config></con:testStep><con:tearDownScript>testRunner.testCase.getTestStepByName("Properties").setPropertyValue("accesstoken","")
testRunner.testCase.getTestStepByName("Properties").setPropertyValue("header","")</con:tearDownScript><con:properties><con:property><con:name>accesstoken</con:name><con:value>061aafb36b56c5856e75fe74b366e4a4345e778e</con:value></con:property><con:property><con:name>header</con:name><con:value>Bearer 061aafb36b56c5856e75fe74b366e4a4345e778e</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>